var orderbook_data = {"bids":[{"price":1.07003092,"volume":1.86910486,"txid":"aa2e49f8e41bde7a0acf2f8f3dbf64e5f1a185927369f0ae9d9a77b0efc9ffc3","vout":1,"pubkey":"6a6b25e369c31505421bfd689a288f7294766cc8f1ef2e296783c33975fdb522"}, {"price":1.07003092,"volume":0.93455243,"txid":"4fb910b818eca949392785483413522d8af249050934ca6243c571f9fa569e1e","vout":1,"pubkey":"6a6b25e369c31505421bfd689a288f7294766cc8f1ef2e296783c33975fdb522"}, {"price":1.09860370,"volume":0.90640143,"txid":"224e9b616b10baea9d4d811d389cb702ccd5136949e5f3c830667bc4a2a41359","vout":0,"pubkey":"1bfcfc1d48dbe3e1332b09cb48e50e7789bdde2308b74f905299db12d093fa2d"}, {"price":1.09860370,"volume":0.09953898,"txid":"374feba90596cdf411e10aec7555d9ced8272af54a98755bcbdbf033b735076e","vout":0,"pubkey":"1bfcfc1d48dbe3e1332b09cb48e50e7789bdde2308b74f905299db12d093fa2d"}, {"price":1.09860370,"volume":0.89936219,"txid":"643c2fcca1313fd32a76ec45540281c450fb4e7c41ca4a98e1eec9ebdba7ebb3","vout":0,"pubkey":"1bfcfc1d48dbe3e1332b09cb48e50e7789bdde2308b74f905299db12d093fa2d"}, {"price":1.09860370,"volume":1.82049268,"txid":"5ce70e85ed561cd152d3a27d0831a27b75f84a8811578642c68c29205903f59c","vout":1,"pubkey":"1bfcfc1d48dbe3e1332b09cb48e50e7789bdde2308b74f905299db12d093fa2d"}, {"price":1.17393765,"volume":1.70366800,"txid":"a75c5c296e82b7c78df2e92f6d793ad79214ce65746b5201ec9193d0a2ae786f","vout":1,"pubkey":"6578099f6474d9b8bd66a7a136b922029a989818ec0309aee962dd6ac1862b74"}, {"price":1.17393765,"volume":0.85183400,"txid":"6b102cc599a7f363b8e81693e5a510eaaf8ad26e8a04d95f24aedb9f508b35ea","vout":1,"pubkey":"6578099f6474d9b8bd66a7a136b922029a989818ec0309aee962dd6ac1862b74"}, {"price":1.28578666,"volume":1.55546800,"txid":"b5f682636959a8043e416c87e007b5c0e5ac8ce00e6b71188774b2cd0c279ae5","vout":1,"pubkey":"7db93bf02299a62905f78a2de3d1fd42d8f5433729e096a66c99c14a52cf936d"}, {"price":1.28578666,"volume":0.77773400,"txid":"f6d9770cfa7d2a4dc5a3ba28e31d4283274f240ef70436255473f67109af4a78","vout":1,"pubkey":"7db93bf02299a62905f78a2de3d1fd42d8f5433729e096a66c99c14a52cf936d"}, {"price":1.32007217,"volume":0.75753434,"txid":"b47cada7a8a53b7fbc320b3f07c87264047511ef4bf57d80ebe888423ab6098c","vout":1,"pubkey":"d2597164e4861baa3eb187fb6e0c9c41f85673d8d21e9b477e328d5abdb94410"}, {"price":1.32007217,"volume":1.51506868,"txid":"491600081587db7affa6072120b53e4128f74e82527cda3f53314447685df7ba","vout":1,"pubkey":"d2597164e4861baa3eb187fb6e0c9c41f85673d8d21e9b477e328d5abdb94410"}, {"price":1.34097978,"volume":0.74572340,"txid":"f3abd4383ca2f7ceb1d22e004e015a153ba926cc2f0bf7a54ff0a590bb1305c4","vout":1,"pubkey":"67e9c96418a4156988431eb586b849d047f8eab1f2c18fff355a087dfc37f008"}, {"price":1.34097978,"volume":1.49144680,"txid":"0b03d52aa70e98940b523626dbb95ba67e04bd7a09891b1df022a6bd95157ece","vout":1,"pubkey":"67e9c96418a4156988431eb586b849d047f8eab1f2c18fff355a087dfc37f008"}, {"price":1.51801196,"volume":1.31751268,"txid":"d9d75a54e7e44bab3351a08929d6181b495307e3cf9aed0b69a1c5fff2e56d7b","vout":1,"pubkey":"1670d1a9ef20264435e94dde500007aed8e34e75ce6329e1ea4fc5571d2f1a08"}, {"price":1.51801196,"volume":0.65875634,"txid":"1293770c91b05e2d40a194eb263bfd6d7daf52b81887a2177ca0d7b8c43f5abf","vout":1,"pubkey":"1670d1a9ef20264435e94dde500007aed8e34e75ce6329e1ea4fc5571d2f1a08"}, {"price":2.03033788,"volume":0.49252886,"txid":"2ba7b3e9b7fb2989d33250c9c5c49bcb75d062970c1eaf3650b7f9e3dff98756","vout":1,"pubkey":"dcbb67b9ffe560ff661dedd018097c355c78de22b29d5e97c586ca21da25d203"}, {"price":2.03033788,"volume":0.98505772,"txid":"57bc09733ff6f9863ff2c75817369f7cffcede550e09e5704cf141d10fca35f1","vout":1,"pubkey":"dcbb67b9ffe560ff661dedd018097c355c78de22b29d5e97c586ca21da25d203"}, {"price":2.96436829,"volume":0.67468000,"txid":"7d08c6d3c6404527ad08f0ff53f459467b511f46a3dd5d6d920eecd9e7f0efec","vout":1,"pubkey":"07c2b0914883612429a9bf0263ebb1d112c420ceb4b0688278bc75d6e1894326"}, {"price":2.96436829,"volume":0.33734000,"txid":"060c3c9b8546bdb7e83bfa443e7c233a3f308fb2179355ba4df63482bae32ac2","vout":1,"pubkey":"07c2b0914883612429a9bf0263ebb1d112c420ceb4b0688278bc75d6e1894326"}],"numbids":20,"asks":[{"price":1.11224634,"volume":0.01309860,"txid":"5e5ad17aab3e4713367732546b5576fce5b2c94090ebd4aa66d437e007bb9b38","vout":1,"pubkey":"1bfcfc1d48dbe3e1332b09cb48e50e7789bdde2308b74f905299db12d093fa2d"}, {"price":1.11224634,"volume":0.99888750,"txid":"97d77f4683268b0f6224305560d5c67588d983bd49e58db6d071eadd97a7bc0c","vout":0,"pubkey":"1bfcfc1d48dbe3e1332b09cb48e50e7789bdde2308b74f905299db12d093fa2d"}, {"price":1.12346340,"volume":0.99888750,"txid":"dbf1e758ef54106b6d59dd3a65ba6bfb9d4cd2cf95667f1286f54e9e8ed18b20","vout":0,"pubkey":"756766f42122fc86280b196d51b9052a99d282f01d462e1ab3c97356b7b89659"}, {"price":1.21203434,"volume":1,"txid":"184e1597310dc2880ed33c0c8a419fd1eee34330f9db4e0a5dc511e15bac3da3","vout":1,"pubkey":"d2597164e4861baa3eb187fb6e0c9c41f85673d8d21e9b477e328d5abdb94410"}, {"price":1.23755243,"volume":1,"txid":"82eed5d34f601352b42ee6799c943444ca53d1c33c28b61a3b907378cd5ded52","vout":1,"pubkey":"6a6b25e369c31505421bfd689a288f7294766cc8f1ef2e296783c33975fdb522"}, {"price":1.23755243,"volume":0.11078748,"txid":"8f53dee138cd2da31e8a3d9584b4f3cc718b8cf4c4505a2da4a6814b01e9e282","vout":0,"pubkey":"6a6b25e369c31505421bfd689a288f7294766cc8f1ef2e296783c33975fdb522"}, {"price":1.25583400,"volume":0.99888750,"txid":"da46740ecbd2dc9b6d86e47076340a7aa82393b91318d1fa8eaabb9c79bd05cb","vout":0,"pubkey":"6578099f6474d9b8bd66a7a136b922029a989818ec0309aee962dd6ac1862b74"}, {"price":1.25583400,"volume":1,"txid":"e656efb228852db3330142312924cfdbcacc751a9c6bab0276654c2539acee88","vout":1,"pubkey":"6578099f6474d9b8bd66a7a136b922029a989818ec0309aee962dd6ac1862b74"}, {"price":1.25583400,"volume":1,"txid":"2077068e2d7f4b0ed7493d0ecbd86e45745fce2d3f681d1f6be3a2a5f80b9124","vout":1,"pubkey":"6578099f6474d9b8bd66a7a136b922029a989818ec0309aee962dd6ac1862b74"}, {"price":1.27773400,"volume":1,"txid":"1fd493b00969032d2deb3918c0fafcef3d01e9bbf5a3fc29e1c778da6ac0d270","vout":1,"pubkey":"7db93bf02299a62905f78a2de3d1fd42d8f5433729e096a66c99c14a52cf936d"}, {"price":1.27773400,"volume":1,"txid":"592522b21e69def92e496bd3064d154a196a51a90949a3b174213521454fe2da","vout":1,"pubkey":"7db93bf02299a62905f78a2de3d1fd42d8f5433729e096a66c99c14a52cf936d"}, {"price":1.31132340,"volume":1,"txid":"c0764af7b460fb2464642a2a478a4193eac2937d348af60552247b5a52841fb6","vout":1,"pubkey":"67e9c96418a4156988431eb586b849d047f8eab1f2c18fff355a087dfc37f008"}, {"price":1.31132340,"volume":1,"txid":"d4393e9dc822fb2707d7efe8d2ef874f7b775ca7cda311ebf51ccd707162e258","vout":1,"pubkey":"67e9c96418a4156988431eb586b849d047f8eab1f2c18fff355a087dfc37f008"}, {"price":1.76975634,"volume":0.11190000,"txid":"2d2439f0e4968d79b0c1aaece15501f57daa1cc5cb9229b4535958cf2bd5dcf0","vout":1,"pubkey":"1670d1a9ef20264435e94dde500007aed8e34e75ce6329e1ea4fc5571d2f1a08"}, {"price":1.76975634,"volume":1,"txid":"d8e9b33f97bf016965e98dfca2743500f1f898206e2f1aa20484469e0013e8c3","vout":1,"pubkey":"1670d1a9ef20264435e94dde500007aed8e34e75ce6329e1ea4fc5571d2f1a08"}, {"price":2.00752886,"volume":1,"txid":"6e33b59330e87f8989e62e74a13bc06c4ec95f336ed23a8d807baad79ef6642c","vout":1,"pubkey":"dcbb67b9ffe560ff661dedd018097c355c78de22b29d5e97c586ca21da25d203"}, {"price":2.00752886,"volume":1,"txid":"e542478189e333f354b4246548c4cc14efe87cf8fceb21047f3172fd727eb35a","vout":1,"pubkey":"dcbb67b9ffe560ff661dedd018097c355c78de22b29d5e97c586ca21da25d203"}, {"price":2.25634000,"volume":1,"txid":"5b1c3bd15a1b385ff9281c7e437ca1dac06b580b99f383b0bc9c7d4afb165336","vout":1,"pubkey":"07c2b0914883612429a9bf0263ebb1d112c420ceb4b0688278bc75d6e1894326"}, {"price":2.25634000,"volume":1,"txid":"8e74af0ce30743011e0fdd80b2bc9bb614f65052f67951461534d588123b7b98","vout":1,"pubkey":"07c2b0914883612429a9bf0263ebb1d112c420ceb4b0688278bc75d6e1894326"}, {"price":2.25634000,"volume":1,"txid":"9e7c64bef7a4bded6c906ab49dbf1e52822b7fba8f281cd5a45f44f6be8c4afa","vout":1,"pubkey":"07c2b0914883612429a9bf0263ebb1d112c420ceb4b0688278bc75d6e1894326"}],"numasks":20,"base":"REVS","rel":"KMD","timestamp":1497518785};
var inv_kmd_data = {"result":"success","alice":[{"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"dcd082d5ecde2c37021561d375bd62b6752e61184d3a4da02069c7724ae44912","vout":0,"value":"200000000","satoshis":"200000000","txid2":"7711afa7cdb3880a3813fd3b5252eae27ce2e25801ee689b1da0e1aca9d0d509","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"bbf1d0304bfa2f8f96d2c06480782c5078f7c32a968772b850b022c9ceb5074b","vout":0,"value":"200000000","satoshis":"200000000","txid2":"53b4f0be9310625b3284b0cd193a64ec5960e951b89f3cd2d51a40cb2f7d0fa3","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"5824cc681ad3615c44c962a3fecb2fb6c328d9cdc52281597e9cb51ee5e41094","vout":0,"value":"200000000","satoshis":"200000000","txid2":"25c6cc193e61f102a69a0e71992a08c00fb2368166460aa20823d561517133c3","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}],"bob":[{"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"bbf1d0304bfa2f8f96d2c06480782c5078f7c32a968772b850b022c9ceb5074b","vout":0,"value":"200000000","satoshis":"177688888","txid2":"dcd082d5ecde2c37021561d375bd62b6752e61184d3a4da02069c7724ae44912","vout2":0,"value2":"200000000","srchash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"53b4f0be9310625b3284b0cd193a64ec5960e951b89f3cd2d51a40cb2f7d0fa3","vout":0,"value":"10000000","satoshis":"8800000","txid2":"7711afa7cdb3880a3813fd3b5252eae27ce2e25801ee689b1da0e1aca9d0d509","vout2":0,"value2":"10000000","srchash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}]};
var getprices_data = [{"pubkey":"6578099f6474d9b8bd66a7a136b922029a989818ec0309aee962dd6ac1862b74","timestamp":1497518589,"asks":[["KMD", "REVS", 0.85183400], ["REVS", "KMD", 1.25583400]]}, {"pubkey":"756766f42122fc86280b196d51b9052a99d282f01d462e1ab3c97356b7b89659","timestamp":1497518591,"asks":[["REVS", "KMD", 1.12346340]]}, {"pubkey":"67e9c96418a4156988431eb586b849d047f8eab1f2c18fff355a087dfc37f008","timestamp":1497518592,"asks":[["KMD", "REVS", 0.74572340], ["REVS", "KMD", 1.31132340]]}, {"pubkey":"1670d1a9ef20264435e94dde500007aed8e34e75ce6329e1ea4fc5571d2f1a08","timestamp":1497518593,"asks":[["KMD", "REVS", 0.65875634], ["REVS", "KMD", 1.76975634]]}, {"pubkey":"d2597164e4861baa3eb187fb6e0c9c41f85673d8d21e9b477e328d5abdb94410","timestamp":1497518594,"asks":[["KMD", "REVS", 0.75003400], ["REVS", "KMD", 1.20003400]]}, {"pubkey":"dcbb67b9ffe560ff661dedd018097c355c78de22b29d5e97c586ca21da25d203","timestamp":1497518594,"asks":[["KMD", "REVS", 0.49252886], ["REVS", "KMD", 2.00752886]]}, {"pubkey":"6a6b25e369c31505421bfd689a288f7294766cc8f1ef2e296783c33975fdb522","timestamp":1497518595,"asks":[["KMD", "REVS", 0.93455243], ["REVS", "KMD", 1.23755243]]}, {"pubkey":"7db93bf02299a62905f78a2de3d1fd42d8f5433729e096a66c99c14a52cf936d","timestamp":1497518596,"asks":[["KMD", "REVS", 0.78551134], ["REVS", "KMD", 1.29051134]]}, {"pubkey":"1bfcfc1d48dbe3e1332b09cb48e50e7789bdde2308b74f905299db12d093fa2d","timestamp":1497518597,"asks":[["KMD", "REVS", 0.91024634], ["REVS", "KMD", 1.11224634]]}, {"pubkey":"07c2b0914883612429a9bf0263ebb1d112c420ceb4b0688278bc75d6e1894326","timestamp":1497518597,"asks":[["KMD", "REVS", 0.33734000], ["REVS", "KMD", 2.25634000]]}];
var tmp_user_wallet_data = {"userpass":"e919a423e0266af4027b53da157822c6198fd7f6ecbf3879a9d001b282349736","mypubkey":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441","coins":[{"coin":"BTC","status":"inactive","smartaddress":"1ESydFxHCa21ZKsuQVGQN68C1i4h8GWhpJ","rpc":"127.0.0.1:8332","pubtype":0,"p2shtype":5,"wiftype":128,"estimatedrate":300,"txfee":50000}, {"coin":"KMD","status":"active","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:7771","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"REVS","status":"active","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:10196","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"JUMBLR","status":"active","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:15106","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"LTC","status":"inactive","smartaddress":"LYfvtUG7HEG4p8a4adFhe7BxDvRyGw1xsT","rpc":"127.0.0.1:9332","pubtype":48,"p2shtype":5,"wiftype":176,"estimatedrate":20,"txfee":100000}, {"coin":"SUPERNET","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:11341","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"WLC","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:12167","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"PANGEA","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:14068","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"DEX","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:11890","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"BET","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:14250","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"CRYPTO","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:8516","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"HODL","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:14431","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"SHARK","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:10114","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"BOTS","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:11964","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"MGW","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:12386","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"MVP","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:8655","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"KV","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:9747","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"CEAL","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:11116","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}, {"coin":"MESH","status":"inactive","smartaddress":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","rpc":"127.0.0.1:9455","pubtype":60,"p2shtype":85,"wiftype":188,"estimatedrate":20,"txfee":10000}]};

function tmp_setusersession() {
	sessionStorage.setItem('mm_userpass', tmp_user_wallet_data.userpass);
	sessionStorage.setItem('mm_mypubkey', tmp_user_wallet_data.mypubkey);	
}


$('.activate-btc').click(function() {
	console.log('activate btc basilisk');
	var ajax_data = {"prefetchlag":-1,"poll":1,"active":1,"agent":"iguana","method":"addcoin","newcoin":"BTC","startpend":64,"endpend":64,"services":0,"maxpeers":512,"RELAY":0,"VALIDATE":0,"portp2p":8333,"minconfirms":1};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.active-coin-output').html(JSON.stringify(data, null, 2));
	   $('.active-coin-output').append('\n------- BTC Acviated in Basilisk Mode -------');
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
});

$('.activate-kmd').click(function() {
	console.log('activate kmd basilisk');
	var ajax_data = {"unitval":"20","zcash":1,"RELAY":0,"VALIDATE":0,"prefetchlag":-1,"poll":10,"active":1,"agent":"iguana","method":"addcoin","startpend":8,"endpend":8,"services":0,"maxpeers":32,"newcoin":"KMD","name":"Komodo","hasheaders":1,"useaddmultisig":0,"netmagic":"f9eee48d","p2p":7770,"rpc":7771,"pubval":60,"p2shval":85,"wifval":188,"txfee_satoshis":"10000","isPoS":0,"minoutput":10000,"minconfirms":2,"genesishash":"027e3758c3a65b12aa1046462b486d0a63bfa1beae327897f56c5cfb7daaae71","protover":170002,"genesisblock":"0100000000000000000000000000000000000000000000000000000000000000000000003ba3edfd7a7b12b27ac72c3e67768f617fc81bc3888a51323a9fb8aa4b1e5e4a000000000000000000000000000000000000000000000000000000000000000029ab5f490f0f0f200b00000000000000000000000000000000000000000000000000000000000000fd4005000d5ba7cda5d473947263bf194285317179d2b0d307119c2e7cc4bd8ac456f0774bd52b0cd9249be9d40718b6397a4c7bbd8f2b3272fed2823cd2af4bd1632200ba4bf796727d6347b225f670f292343274cc35099466f5fb5f0cd1c105121b28213d15db2ed7bdba490b4cedc69742a57b7c25af24485e523aadbb77a0144fc76f79ef73bd8530d42b9f3b9bed1c135ad1fe152923fafe98f95f76f1615e64c4abb1137f4c31b218ba2782bc15534788dda2cc08a0ee2987c8b27ff41bd4e31cd5fb5643dfe862c9a02ca9f90c8c51a6671d681d04ad47e4b53b1518d4befafefe8cadfb912f3d03051b1efbf1dfe37b56e93a741d8dfd80d576ca250bee55fab1311fc7b3255977558cdda6f7d6f875306e43a14413facdaed2f46093e0ef1e8f8a963e1632dcbeebd8e49fd16b57d49b08f9762de89157c65233f60c8e38a1f503a48c555f8ec45dedecd574a37601323c27be597b956343107f8bd80f3a925afaf30811df83c402116bb9c1e5231c70fff899a7c82f73c902ba54da53cc459b7bf1113db65cc8f6914d3618560ea69abd13658fa7b6af92d374d6eca9529f8bd565166e4fcbf2a8dfb3c9b69539d4d2ee2e9321b85b331925df195915f2757637c2805e1d4131e1ad9ef9bc1bb1c732d8dba4738716d351ab30c996c8657bab39567ee3b29c6d054b711495c0d52e1cd5d8e55b4f0f0325b97369280755b46a02afd54be4ddd9f77c22272b8bbb17ff5118fedbae2564524e797bd28b5f74f7079d532ccc059807989f94d267f47e724b3f1ecfe00ec9e6541c961080d8891251b84b4480bc292f6a180bea089fef5bbda56e1e41390d7c0e85ba0ef530f7177413481a226465a36ef6afe1e2bca69d2078712b3912bba1a99b1fbff0d355d6ffe726d2bb6fbc103c4ac5756e5bee6e47e17424ebcbf1b63d8cb90ce2e40198b4f4198689daea254307e52a25562f4c1455340f0ffeb10f9d8e914775e37d0edca019fb1b9c6ef81255ed86bc51c5391e0591480f66e2d88c5f4fd7277697968656a9b113ab97f874fdd5f2465e5559533e01ba13ef4a8f7a21d02c30c8ded68e8c54603ab9c8084ef6d9eb4e92c75b078539e2ae786ebab6dab73a09e0aa9ac575bcefb29e930ae656e58bcb513f7e3c17e079dce4f05b5dbc18c2a872b22509740ebe6a3903e00ad1abc55076441862643f93606e3dc35e8d9f2caef3ee6be14d513b2e062b21d0061de3bd56881713a1a5c17f5ace05e1ec09da53f99442df175a49bd154aa96e4949decd52fed79ccf7ccbce32941419c314e374e4a396ac553e17b5340336a1a25c22f9e42a243ba5404450b650acfc826a6e432971ace776e15719515e1634ceb9a4a35061b668c74998d3dfb5827f6238ec015377e6f9c94f38108768cf6e5c8b132e0303fb5a200368f845ad9d46343035a6ff94031df8d8309415bb3f6cd5ede9c135fdabcc030599858d803c0f85be7661c88984d88faa3d26fb0e9aac0056a53f1b5d0baed713c853c4a2726869a0a124a8a5bbc0fc0ef80c8ae4cb53636aa02503b86a1eb9836fcc259823e2692d921d88e1ffc1e6cb2bde43939ceb3f32a611686f539f8f7c9f0bf00381f743607d40960f06d347d1cd8ac8a51969c25e37150efdf7aa4c2037a2fd0516fb444525ab157a0ed0a7412b2fa69b217fe397263153782c0f64351fbdf2678fa0dc8569912dcd8e3ccad38f34f23bbbce14c6a26ac24911b308b82c7e43062d180baeac4ba7153858365c72c63dcf5f6a5b08070b730adb017aeae925b7d0439979e2679f45ed2f25a7edcfd2fb77a8794630285ccb0a071f5cce410b46dbf9750b0354aae8b65574501cc69efb5b6a43444074fee116641bb29da56c2b4a7f456991fc92b2","debug":0};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.active-coin-output').html(JSON.stringify(data, null, 2));
	   $('.active-coin-output').append('\n------- KMD Acviated in Basilisk Mode -------');
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
});


$('.active-coin-status').click(function() {
	var ajax_data = {'agent': 'InstantDEX','method': 'allcoins'};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.active-coin-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.blocktrailapi-btn').click(function() {
	var blocktrail_api_key = $('.blocktrailapi-key').val();
	var ajax_data = {"agent":"tradebot","method":"amlp","blocktrail":blocktrail_api_key};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.blocktrail-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.notlp-btn').click(function() {
	var ajax_data = {"agent":"tradebot","method":"notlp"};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.blocktrail-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.login-btn').click(function() {
	var _login_type = $('.login_type').val();
	if (_login_type == 'login_main_wallet') {
		var _passphrase = $('.passphrase-text').val();
		$('.step04_smartaddr').show();
		$('.step05_dexparams').show();
		$('.step07_initswap').show();
		$('.step08_checkswaps').show();
	} else {
		$('.step04_smartaddr').hide();
		$('.step05_dexparams').hide();
		$('.step07_initswap').hide();
		$('.step08_checkswaps').hide();
	}
	if (_login_type == 'login_btc_jumblr') {
		var _passphrase = "btc jumblr " + $('.passphrase-text').val();
	}
	if (_login_type == 'login_kmd_jumblr') {
		var _passphrase = "kmd jumblr " + $('.passphrase-text').val();
	}
	if (_login_type == 'login_jumblr') {
		var _passphrase = "jumblr " + $('.passphrase-text').val();
	}
	if (_login_type == 'login_deposit') {
		var _passphrase = "deposit " + $('.passphrase-text').val();
	}

	var ajax_data = {"agent":"bitcoinrpc","method":"walletpassphrase","password":_passphrase,"timeout":8644444};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.passphrase-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})

$('.logout-btn').click(function() {
	var ajax_data = {"agent":"bitcoinrpc","method":"walletlock"};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.passphrase-output').html(JSON.stringify(data, null, 2));
	   $('.step04_smartaddr').show();
	   $('.step05_dexparams').show();
	   $('.step07_initswap').show();
	   $('.step08_checkswaps').show();
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.login_btc_jumblr_btn').click(function() {
	
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.passphrase-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.login_kmd_jumblr_btn').click(function() {
	
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.passphrase-output').html(JSON.stringify(data, null, 2));
	   $('.step04_smartaddr').hide();
	   $('.step05_dexparams').hide();
	   $('.step07_initswap').hide();
	   $('.step08_checkswaps').hide();
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})




$('.dexratio-btn').click(function() {
	var _dexratio = $('.dexratio-val').val();
	var ajax_data = {"ratio":_dexratio,"agent":"InstantDEX","method":"DEXratio"};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.dexparams-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.showwalletinfo').click(function() {
	$('.checkwallet-output').html('<i>processing...</i>');
	$('.coin_balance').html('');
	$('.coin_mainaddr').html('');
	$('.coin_id').html('')
	var ajax_data = {"agent":"SuperNET","method":"activehandle"};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.checkwallet-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.show-btcbalance').click(function() {
	$('.checkwallet-output').html('<i>processing...</i>');
	$('.coin_balance').html('<i>processing...</i>');
	var ajax_activehandle = {"agent":"SuperNET","method":"activehandle"};
	var url = "http://127.0.0.1:7778/";

	var a1 = $.ajax({
				data: JSON.stringify(ajax_activehandle),
				dataType: 'json',
				type: 'POST',
				url: 'http://127.0.0.1:7778'
	        }),
	    a2 = a1.then(function(data) {
	    		console.log(data);
	    		$('.coin_mainaddr').html(data.BTC);
	    		$('.coin_id').html('Bitcoin (BTC)')
	    		var ajax_dexgetbalance = {"agent":"dex","method":"getbalance","address":data.BTC,"symbol":"BTC"}
    			//return data
	            // .then() returns a new promise
	            return $.ajax({
	            	data: JSON.stringify(ajax_dexgetbalance),
					dataType: 'json',
					type: 'POST',
					url: 'http://127.0.0.1:7778'
	            });
	         });

	a2.done(function(data) {
	    console.log(data);
	    $('.checkwallet-output').html(JSON.stringify(data, null, 2));
	    $('.coin_balance').html(data.balance);
	});
})


$('.show-kmdbalance').click(function() {
	$('.checkwallet-output').html('<i>processing...</i>');
	$('.coin_balance').html('<i>processing...</i>');
	var ajax_activehandle = {"agent":"SuperNET","method":"activehandle"};
	var url = "http://127.0.0.1:7778/";

	var a1 = $.ajax({
				data: JSON.stringify(ajax_activehandle),
				dataType: 'json',
				type: 'POST',
				url: 'http://127.0.0.1:7778'
	        }),
	    a2 = a1.then(function(data) {
	    		console.log(data);
	    		$('.coin_mainaddr').html(data.KMD);
	    		$('.coin_id').html('Komodo (KMD)')
	    		var ajax_dexgetbalance = {"agent":"dex","method":"getbalance","address":data.KMD,"symbol":"KMD"}
    			//return data
	            // .then() returns a new promise
	            return $.ajax({
	            	data: JSON.stringify(ajax_dexgetbalance),
					dataType: 'json',
					type: 'POST',
					url: 'http://127.0.0.1:7778'
	            });
	         });

	a2.done(function(data) {
	    console.log(data);
	    $('.checkwallet-output').html(JSON.stringify(data, null, 2));
	    $('.coin_balance').html(data.balance);
	});
})


$('.send_tx_addr_btn').click(function() {
	var selected_coin = $('.send_tx_coin').val();
	var send_to_addr = $('.send_tx_addr').val();
	var send_coin_amount = $('.send_tx_amount').val();
	var confirm_send = confirm('Sending ' + send_coin_amount + ' ' + selected_coin + ' to ' + send_to_addr);
	if (confirm_send == true) {
		console.log('Sending Transaction');
		$('.checkwallet-output').html('<i>Sending ' + send_coin_amount + ' ' + selected_coin + ' to ' + send_to_addr + '<br>processing...</i>');

		var ajax_data = {"coin":selected_coin,"method":"sendtoaddress","params":[send_to_addr, send_coin_amount]};
		var url = "http://127.0.0.1:7778/";

		$.ajax({
		    data: JSON.stringify(ajax_data),
		    dataType: 'json',
		    type: 'POST',
		    url: 'http://127.0.0.1:7778'
		}).done(function(data) {
		    // If successful
		   console.log(data);
		   $('.initcoinswap-output').html(JSON.stringify(data, null, 2));
		}).fail(function(jqXHR, textStatus, errorThrown) {
		    // If fail
		    console.log(textStatus + ': ' + errorThrown);
		});
	} else {
		console.log('Canceled Transaction');
		$('.checkwallet-output').html('Canceled Transaction.');
	}

})


//$( ".buy_coin" ).change(function() {
$('.buy_coin').click(function() {
	var coin = $(this).data('coin');
	//console.log($('.buy_coin').val())
	rel_coin = $('.deposit_coin01').data('coin');
	//base_coin = $('.buy_coin').val();
	base_coin = coin;

	sessionStorage.setItem('dex_base_coin', base_coin);
	sessionStorage.setItem('dex_rel_coin', rel_coin);

  	switch (base_coin) {
		case 'KMD':
			$('.deposit_coin02').html('<img src="img/komodo.png" width="40px">');
			break;
		case 'BTC':
			$('.deposit_coin02').html('<img src="img/bitcoin.png" width="40px">');
			break;
		case 'REVS':
			$('.deposit_coin02').html('<b>REVS</b>');
			break;
		case 'JUMBLR':
			$('.deposit_coin02').html('<b>JUMBLR</b>');
			break;
		case 'DOGE':
			$('.deposit_coin02').html('<b>Dogecoin</b>');
			break;
		case 'HUSH':
			$('.deposit_coin02').html('<b>Hushcoin</b>');
			break;
		case 'DGB':
			$('.deposit_coin02').html('<b>Digibyte</b>');
			break;
		case 'MZC':
			$('.deposit_coin02').html('<b>Mazacoin</b>');
			break;
		case 'SYS':
			$('.deposit_coin02').html('<b>Syscoin</b>');
			break;
		case 'UNO':
			$('.deposit_coin02').html('<b>Unobtanium</b>');
			break;
		case 'ZET':
			$('.deposit_coin02').html('<b>Zetacoin</b>');
			break;
		case 'ZEC':
			$('.deposit_coin02').html('<b>Zcash</b>');
			break;
		case 'BTM':
			$('.deposit_coin02').html('<b>Bitmark</b>');
			break;
		case 'CARB':
			$('.deposit_coin02').html('<b>Carboncoin</b>');
			break;
		case 'ANC':
			$('.deposit_coin02').html('<b>Anoncoin</b>');
			break;
		case 'FRK':
			$('.deposit_coin02').html('<b>Franko</b>');
			break;
		case 'GAME':
			$('.deposit_coin02').html('<b>Gamecredits</b>');
			break;
		case 'LTC':
			$('.deposit_coin02').html('<b>Litecoin</b>');
			break;
		case 'SUPERNET':
			$('.deposit_coin02').html('<b>SUPERNET</b>');
			break;
		case 'WLC':
			$('.deposit_coin02').html('<b>Wireless</b>');
			break;
		case 'PANGEA':
			$('.deposit_coin02').html('<b>Pangea</b>');
			break;
		case 'DEX':
			$('.deposit_coin02').html('<b>InstantDEX</b>');
			break;
		case 'BET':
			$('.deposit_coin02').html('<b>BET</b>');
			break;
		case 'CRYPTO':
			$('.deposit_coin02').html('<b>Crypto777</b>');
			break;
		case 'HODL':
			$('.deposit_coin02').html('<b>HODL</b>');
			break;
		case 'SHARK':
			$('.deposit_coin02').html('<b>SHARK</b>');
			break;
		case 'BOTS':
			$('.deposit_coin02').html('<b>BOTS</b>');
			break;
		case 'MGW':
			$('.deposit_coin02').html('<b>MultiGateway</b>');
			break;
		case 'MVP':
			$('.deposit_coin02').html('<b>MVP</b>');
			break;
		case 'KV':
			$('.deposit_coin02').html('<b>KeyValue</b>');
			break;
		case 'CEAL':
			$('.deposit_coin02').html('<b>Ceal</b>');
			break;
		case 'MESH':
			$('.deposit_coin02').html('<b>SuperMesh</b>');
			break;
	}

	get_price(base_coin, rel_coin);

	$( ".buy_coin" ).removeClass("active")
	$( ".buy_coin[data-coin='"+ coin +"']" ).addClass(" active");
  
  	/*var ajax_data = {"agent":"InstantDEX","method":"smartaddresses"};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
		$(data).each(function(index, value) {
			//console.log(index);
			//console.log(value);
			if (value.type == $('.buy_coin').val()) {
				//console.log(value.coins);
				$('.initcoinswap-output').html(JSON.stringify(value.coins[0], null, 2));
				$('.smartaddr_type').html($('.buy_coin').val().toUpperCase())
				$('.deposit_coin_code').html(value.coins[0].coin.toUpperCase())
				$('.deposit_coin_addr').html(value.coins[0].address)
				$('.swap_deposit_addr').html(value.coins[0].address);
  				$('.swap_recieve_addr').html(value.coins[0].dest);
  				$('.deposit_coin_sourceamount').html(value.coins[0].sourceamount + ' ' + value.coins[0].coin.toUpperCase());

				$('#deposit_coin_qrcode').html('');
				var qrcode = new QRCode("deposit_coin_qrcode", {
									width: 96,
									height: 96,
									colorDark : "#000000",
									colorLight : "#ffffff",
									correctLevel : QRCode.CorrectLevel.H
								});
				qrcode.makeCode(value.coins[0].address);

			}
		});
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});*/
});


function get_price(base,rel) {
	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var ajax_data = {"userpass":userpass,"method":"getprice","base":base,"rel":rel};
	var url = "http://127.0.0.1:7779";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   if (!data.userpass === false) {
	   	console.log('first marketmaker api call execution after marketmaker started.')
	   	sessionStorage.setItem('mm_userpass', data.userpass);
	   	sessionStorage.setItem('mm_mypubkey', data.mypubkey);
	   	get_price(base,rel)
	   } else if (!data.error === false) {
	   	$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	   	$('.coin_swap_rate_info1').empty();
	   } else {
	   	$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	   	$('.coin_swap_rate_info1').empty();
	   	$('.coin_swap_rate_info1').html('<b>1 '+base+' = ' + data.price + ' '+rel+' approx.</b>');
	   	//$('.coin_swap_rate_info1').html('Theoretical Price<br><b>1 '+base+' = ' + data.theoretical[rel] + ' '+rel+' approx.</b><br>Quotes Price<br><b>1 '+base+' = ' + data.quotes[rel] + ' '+rel+' approx.</b>');
	   }
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});

	var ajax_data2 = {"userpass":userpass,"method":"getprice","base":base,"rel":base};
	$.ajax({
	    data: JSON.stringify(ajax_data2),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   if (!data.userpass === false) {
	   	console.log('first marketmaker api call execution after marketmaker started.')
	   	sessionStorage.setItem('mm_userpass', data.userpass);
	   	sessionStorage.setItem('mm_mypubkey', data.mypubkey);
	   	get_price(base,rel)
	   } else if (!data.error === false) {
	   	$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	   	$('.coin_swap_rate_info2').empty();
	   } else {
	   	$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	   	$('.coin_swap_rate_info2').empty();
	   	$('.coin_swap_rate_info2').html('<b>1 '+rel+' = ' + data.price + ' '+base+' approx.</b>');
	   	//$('.coin_swap_rate_info2').html('Theoretical Price<br><b>1 '+base+' = ' + data.theoretical[rel] + ' '+rel+' approx.</b><br>Quotes Price<br><b>1 '+base+' = ' + data.quotes[rel] + ' '+rel+' approx.</b>');
	   }
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
}

$('.refresh_estimate_price').click(function() {
	rel_coin = $('.deposit_coin01').data('coin');
	base_coin = $('.buy_coin').val();

	get_price(base_coin, rel_coin);
})

function get_marketmaker_userpass() {
	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var ajax_data = {"userpass":userpass,"method":"getpeers"};
	var url = "http://127.0.0.1:7779";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   if (!data.userpass === false) {
	   	console.log('first marketmaker api call execution after marketmaker started.')
	   	sessionStorage.setItem('mm_userpass', data.userpass);
	   	sessionStorage.setItem('mm_mypubkey', data.mypubkey);
	   	get_marketmaker_userpass()
	   } else {
	   	$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	   }
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
}

$('.refresh_inv_table').click(function() {
	var coin = $(this).data('coin');
	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var ajax_data = {"userpass":userpass,"method":"inventory","coin":coin};
	var url = "http://127.0.0.1:7779";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   data = inv_kmd_data
	   if (!data.userpass === false) {
	   	console.log('first marketmaker api call execution after marketmaker started.')
	   	sessionStorage.setItem('mm_userpass', data.userpass);
	   	sessionStorage.setItem('mm_mypubkey', data.mypubkey);
	   	$( ".inv_btn[data-coin='"+ coin +"']" ).trigger( "click" );
	   } else {
	   	$( ".inv_btn" ).removeClass("active")
	   	$( ".inv_btn[data-coin='"+ coin +"']" ).addClass(" active");
	   	$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	   	$('.inv_alice_table tbody').empty();
	   	//var test_data = {"result":"success","alice":[{"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"dcd082d5ecde2c37021561d375bd62b6752e61184d3a4da02069c7724ae44912","vout":0,"value":"200000000","satoshis":"200000000","txid2":"7711afa7cdb3880a3813fd3b5252eae27ce2e25801ee689b1da0e1aca9d0d509","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"bbf1d0304bfa2f8f96d2c06480782c5078f7c32a968772b850b022c9ceb5074b","vout":0,"value":"200000000","satoshis":"200000000","txid2":"53b4f0be9310625b3284b0cd193a64ec5960e951b89f3cd2d51a40cb2f7d0fa3","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"5824cc681ad3615c44c962a3fecb2fb6c328d9cdc52281597e9cb51ee5e41094","vout":0,"value":"200000000","satoshis":"200000000","txid2":"25c6cc193e61f102a69a0e71992a08c00fb2368166460aa20823d561517133c3","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}],"bob":[{"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"bbf1d0304bfa2f8f96d2c06480782c5078f7c32a968772b850b022c9ceb5074b","vout":0,"value":"200000000","satoshis":"177688888","txid2":"dcd082d5ecde2c37021561d375bd62b6752e61184d3a4da02069c7724ae44912","vout2":0,"value2":"200000000","srchash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"53b4f0be9310625b3284b0cd193a64ec5960e951b89f3cd2d51a40cb2f7d0fa3","vout":0,"value":"10000000","satoshis":"8800000","txid2":"7711afa7cdb3880a3813fd3b5252eae27ce2e25801ee689b1da0e1aca9d0d509","vout2":0,"value2":"10000000","srchash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}]};
	   	//console.log(test_data);
	   	$.each(data.alice, function(index, val) {
	   		//console.log(index);
	   		//console.log(val);
	   		var inv_alice_table_tr = '';
	   		inv_alice_table_tr += '<tr>';
              inv_alice_table_tr += '<td>' + (parseFloat(val.value)/100000000).toFixed(8) + ' ' + val.coin + '</td>';
              inv_alice_table_tr += '<td><input class="form-control input-sm trade_pair_maxprice" type="text" name="price" value="" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'"></td>';
              inv_alice_table_tr += '<td><button class="btn btn-default btn-sm inv_autotrade" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'">Trade</button></td>';
            inv_alice_table_tr += '</tr>';
            $('.inv_alice_table tbody').append(inv_alice_table_tr);
	   	})

	   	/*$('.inv_bob_table tbody').empty();
	   	$.each(data.bob, function(index, val) {
	   		//console.log(index);
	   		//console.log(val);
	   		var inv_bob_table_tr = '';
	   		inv_bob_table_tr += '<tr>';
              inv_bob_table_tr += '<td>' + (parseFloat(val.value)/100000000).toFixed(8) + ' ' + val.coin + '</td>';
              //inv_bob_table_tr += '<td><input class="form-control input-sm trade_pair_maxprice" type="text" name="price" value="" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'"></td>';
              inv_bob_table_tr += '<td><button class="btn btn-default btn-sm inv_lp_setprice" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'" data-toggle="modal" data-target="#LP_Mode_SetPrice">Set Max Trade Price</button></td>';
            inv_bob_table_tr += '</tr>';
            $('.inv_bob_table tbody').append(inv_bob_table_tr);
	   	})*/

	   }
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.inv_btn').click(function() {
	var coin = $(this).data('coin');
	$('.refresh_inv_table').data('coin',coin);

	switch (coin) {
		case 'KMD':
			$('.deposit_coin01').html('<img src="img/komodo.png" width="40px">');
			break;
		case 'BTC':
			$('.deposit_coin01').html('<img src="img/bitcoin.png" width="40px">');
			break;
		case 'REVS':
			$('.deposit_coin01').html('<b>REVS</b>');
			break;
		case 'JUMBLR':
			$('.deposit_coin01').html('<b>JUMBLR</b>');
			break;
		case 'DOGE':
			$('.deposit_coin01').html('<b>Dogecoin</b>');
			break;
		case 'HUSH':
			$('.deposit_coin01').html('<b>Hushcoin</b>');
			break;
		case 'DGB':
			$('.deposit_coin01').html('<b>Digibyte</b>');
			break;
		case 'MZC':
			$('.deposit_coin01').html('<b>Mazacoin</b>');
			break;
		case 'SYS':
			$('.deposit_coin01').html('<b>Syscoin</b>');
			break;
		case 'UNO':
			$('.deposit_coin01').html('<b>Unobtanium</b>');
			break;
		case 'ZET':
			$('.deposit_coin01').html('<b>Zetacoin</b>');
			break;
		case 'ZEC':
			$('.deposit_coin01').html('<b>Zcash</b>');
			break;
		case 'BTM':
			$('.deposit_coin01').html('<b>Bitmark</b>');
			break;
		case 'CARB':
			$('.deposit_coin01').html('<b>Carboncoin</b>');
			break;
		case 'ANC':
			$('.deposit_coin01').html('<b>Anoncoin</b>');
			break;
		case 'FRK':
			$('.deposit_coin01').html('<b>Franko</b>');
			break;
		case 'GAME':
			$('.deposit_coin01').html('<b>Gamecredits</b>');
			break;
		case 'LTC':
			$('.deposit_coin01').html('<b>Litecoin</b>');
			break;
		case 'SUPERNET':
			$('.deposit_coin01').html('<b>SUPERNET</b>');
			break;
		case 'WLC':
			$('.deposit_coin01').html('<b>Wireless</b>');
			break;
		case 'PANGEA':
			$('.deposit_coin01').html('<b>Pangea</b>');
			break;
		case 'DEX':
			$('.deposit_coin01').html('<b>InstantDEX</b>');
			break;
		case 'BET':
			$('.deposit_coin01').html('<b>BET</b>');
			break;
		case 'CRYPTO':
			$('.deposit_coin01').html('<b>Crypto777</b>');
			break;
		case 'HODL':
			$('.deposit_coin01').html('<b>HODL</b>');
			break;
		case 'SHARK':
			$('.deposit_coin01').html('<b>SHARK</b>');
			break;
		case 'BOTS':
			$('.deposit_coin01').html('<b>BOTS</b>');
			break;
		case 'MGW':
			$('.deposit_coin01').html('<b>MultiGateway</b>');
			break;
		case 'MVP':
			$('.deposit_coin01').html('<b>MVP</b>');
			break;
		case 'KV':
			$('.deposit_coin01').html('<b>KeyValue</b>');
			break;
		case 'CEAL':
			$('.deposit_coin01').html('<b>Ceal</b>');
			break;
		case 'MESH':
			$('.deposit_coin01').html('<b>SuperMesh</b>');
			break;
	}
	
	$('.deposit_coin01').data('coin', coin);
	//calc_swap_price('kmdbtc');

	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var ajax_data = {"userpass":userpass,"method":"inventory","coin":coin};
	var url = "http://127.0.0.1:7779";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   if (!data.userpass === false) {
	   	console.log('first marketmaker api call execution after marketmaker started.')
	   	sessionStorage.setItem('mm_userpass', data.userpass);
	   	sessionStorage.setItem('mm_mypubkey', data.mypubkey);
	   	$( ".inv_btn[data-coin='"+ coin +"']" ).trigger( "click" );
	   } else {
	   	$( ".inv_btn" ).removeClass("active")
	   	$( ".inv_btn[data-coin='"+ coin +"']" ).addClass(" active");
	   	$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	   	$('.inv_alice_table tbody').empty();
	   	//var test_data = {"result":"success","alice":[{"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"dcd082d5ecde2c37021561d375bd62b6752e61184d3a4da02069c7724ae44912","vout":0,"value":"200000000","satoshis":"200000000","txid2":"7711afa7cdb3880a3813fd3b5252eae27ce2e25801ee689b1da0e1aca9d0d509","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"bbf1d0304bfa2f8f96d2c06480782c5078f7c32a968772b850b022c9ceb5074b","vout":0,"value":"200000000","satoshis":"200000000","txid2":"53b4f0be9310625b3284b0cd193a64ec5960e951b89f3cd2d51a40cb2f7d0fa3","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"5824cc681ad3615c44c962a3fecb2fb6c328d9cdc52281597e9cb51ee5e41094","vout":0,"value":"200000000","satoshis":"200000000","txid2":"25c6cc193e61f102a69a0e71992a08c00fb2368166460aa20823d561517133c3","vout2":0,"value2":"10000000","desthash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}],"bob":[{"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"bbf1d0304bfa2f8f96d2c06480782c5078f7c32a968772b850b022c9ceb5074b","vout":0,"value":"200000000","satoshis":"177688888","txid2":"dcd082d5ecde2c37021561d375bd62b6752e61184d3a4da02069c7724ae44912","vout2":0,"value2":"200000000","srchash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}, {"method":"notified","method2":"notified","coin":"KMD","now":1497477754,"address":"RNjAhmqZoPpadLF6sfFXTcTPmyXHnBdFvA","txid":"53b4f0be9310625b3284b0cd193a64ec5960e951b89f3cd2d51a40cb2f7d0fa3","vout":0,"value":"10000000","satoshis":"8800000","txid2":"7711afa7cdb3880a3813fd3b5252eae27ce2e25801ee689b1da0e1aca9d0d509","vout2":0,"value2":"10000000","srchash":"9200ad4422472041ade4bb26511acaa7eb53b7132f0cbb45bc30448a10cbc441"}]};
	   	//console.log(test_data);
	   	$.each(data.alice, function(index, val) {
	   		//console.log(index);
	   		//console.log(val);
	   		var inv_alice_table_tr = '';
	   		inv_alice_table_tr += '<tr>';
              inv_alice_table_tr += '<td>' + (parseFloat(val.value)/100000000).toFixed(8) + ' ' + val.coin + '</td>';
              inv_alice_table_tr += '<td><input class="form-control input-sm trade_pair_maxprice" type="text" name="price" value="" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'"></td>';
              inv_alice_table_tr += '<td><button class="btn btn-default btn-sm inv_autotrade" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'">Trade</button></td>';
            inv_alice_table_tr += '</tr>';
            $('.inv_alice_table tbody').append(inv_alice_table_tr);
	   	})

	   	/*$('.inv_bob_table tbody').empty();
	   	$.each(data.bob, function(index, val) {
	   		//console.log(index);
	   		//console.log(val);
	   		var inv_bob_table_tr = '';
	   		inv_bob_table_tr += '<tr>';
              inv_bob_table_tr += '<td>' + (parseFloat(val.value)/100000000).toFixed(8) + ' ' + val.coin + '</td>';
              //inv_bob_table_tr += '<td><input class="form-control input-sm trade_pair_maxprice" type="text" name="price" value="" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'"></td>';
              inv_bob_table_tr += '<td><button class="btn btn-default btn-sm inv_lp_setprice" data-coin="'+val.coin+'" data-txid="'+val.txid+'" data-vout="'+val.vout+'" data-amount="'+val.value+'">Set Max Trade Price</button></td>';
            inv_bob_table_tr += '</tr>';
            $('.inv_bob_table tbody').append(inv_bob_table_tr);
	   	})*/


	   }
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
});


$('.inv_alice_table tbody').on('click', '.inv_autotrade', function() {
	var coin = $(this).data('coin');
	var txid = $(this).data('txid');
	var vout = $(this).data('vout');
	var maxprice = $('.trade_pair_maxprice[data-txid="'+txid+'"][data-vout="'+vout+'"]').val()
	console.log(coin);
	console.log(txid);
	console.log(vout);
	console.log(maxprice);

	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var ajax_data = {"userpass":userpass,"method":"autotrade","txid":txid,"vout":vout,"coin":"REVS","maxprice":maxprice};
	var url = "http://127.0.0.1:7779";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.inv_bob_table tbody').on('click', '.inv_lp_setprice', function() {
	var coin = $(this).data('coin');
	var txid = $(this).data('txid');
	var vout = $(this).data('vout');
	var amount = $(this).data('amount');
	var amount_parsed = (parseFloat(amount)/100000000).toFixed(8)

	$('.tbl_lp_selected_utxo_txid').text(txid);
	$('.tbl_lp_selected_utxo_vout').text(vout);
	$('.tbl_lp_selected_utxo_amount').text(amount_parsed + ' ' +coin);
	$('#LP_Mode_SetPrice').modal('show')
});

//{"userpass":"$userpass","method":"orderbook","base":"REVS","rel":"KMD"}

/*
$('.deposit_coin_btn_01').click(function() {
	var get_depsit_addr = $('.deposit_coin_addr').text();
	$('.initcoinswap-output').html('<i>Sending 100 KMD to ' + get_depsit_addr + '<br>processing...</i>');

	var ajax_data = {"coin":"KMD","method":"sendtoaddress","params":[get_depsit_addr, 100]};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})

$('.deposit_coin_btn_02').click(function() {
	var get_depsit_addr = $('.deposit_coin_addr').text();
	$('.initcoinswap-output').html('<i>Sending 0.001 KMD fee to ' + get_depsit_addr + '<br>processing...</i>');

	var ajax_data = {"coin":"KMD","method":"sendtoaddress","params":[get_depsit_addr, 0.001]};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})

$('.deposit_coin_btn_03').click(function() {
	var get_depsit_addr = $('.deposit_coin_addr').text();
	var deposit_100kmd_worth_btc_btn = $('.deposit_100kmd_worth_btc_btn').text();
	$('.initcoinswap-output').html('<i>Sending ' + deposit_100kmd_worth_btc_btn + ' BTC to ' + get_depsit_addr + '<br>processing...</i>');

	var ajax_data = {"coin":"BTC","method":"sendtoaddress","params":[get_depsit_addr, deposit_100kmd_worth_btc_btn]};
	var url = "http://127.0.0.1:7778/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: 'http://127.0.0.1:7778'
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})*/




var check_orderbook = setInterval(function() {
	console.log('checking orderbook')

	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var base_coin = sessionStorage.getItem('dex_base_coin');
	var rel_coin = sessionStorage.getItem('dex_rel_coin');
	
	$('.orderbook_rel_coin').html(rel_coin);
	$('.orderbook_base_coin').html(base_coin);

	var ajax_data = {"userpass":userpass,"method":"orderbook","base":base_coin,"rel":rel_coin};
	//console.log(ajax_data)
	var url = "http://127.0.0.1:7779";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
		// If successful
		//console.log(data);
		if (!data.userpass === false) {
			console.log('first marketmaker api call execution after marketmaker started.')
			sessionStorage.setItem('mm_userpass', data.userpass);
			sessionStorage.setItem('mm_mypubkey', data.mypubkey);
		} else {
			//console.log(data.asks);

			$('.orderbook_numasks').html(data.numasks);
			$('.orderbook_numbids').html(data.numbids);

			$('.orderbook_bids tbody').empty();
			$.each(data.bids, function(index, val) {
				//console.log(index);
				//console.log(val);
				var mytrade_true = '';
				if (val.pubkey === mypubkey) {
					var mytrade_true = 'class="warning"';
				}
				var orderbook_bids_tr = '';
				orderbook_bids_tr += '<tr ' + mytrade_true + '>';
				orderbook_bids_tr += '<td class="col-xs-6">' + val.price + '</td>';
				orderbook_bids_tr += '<td class="col-xs-6">' + val.volume + '</td>';
				orderbook_bids_tr += '</tr>';
				$('.orderbook_bids tbody').append(orderbook_bids_tr);
			})

			$('.orderbook_asks tbody').empty();
			$.each(data.asks, function(index, val) {
				//console.log(index);
				//console.log(val);
				var mytrade_true = '';
				if (val.pubkey === mypubkey) {
					var mytrade_true = 'class="warning"';
				}
				var orderbook_asks_tr = '';
				orderbook_asks_tr += '<tr ' + mytrade_true + '>';
				orderbook_asks_tr += '<td class="col-xs-6">' + val.price + '</td>';
				orderbook_asks_tr += '<td class="col-xs-6">' + val.volume + '</td>';
				orderbook_asks_tr += '</tr>';
				$('.orderbook_asks tbody').append(orderbook_asks_tr);
			})
		}

	   //$('.initcoinswap-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});

}, 1000);


$('.refresh_swap_list_btn').click(function() {
	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var ajax_data = {"userpass":userpass,"method":"swapstatus"};
	var url = "http://127.0.0.1:7779";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.checkswaplist-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})


$('.check_swap_status_btn').click(function() {
	event.preventDefault();
	var requestid = $('#swap_request_id').val();
	var quoteid = $('#swap_quote_id').val();
	var userpass = sessionStorage.getItem('mm_userpass');
	var mypubkey = sessionStorage.getItem('mm_mypubkey');
	var ajax_data = {"userpass":userpass,"method":"swapstatus","requestid":requestid,"quoteid":quoteid};
	var url = "http://127.0.0.1:7779/";

	$.ajax({
	    data: JSON.stringify(ajax_data),
	    dataType: 'json',
	    type: 'POST',
	    url: url
	}).done(function(data) {
	    // If successful
	   console.log(data);
	   $('.checkswaplist-output').html(JSON.stringify(data, null, 2));
	}).fail(function(jqXHR, textStatus, errorThrown) {
	    // If fail
	    console.log(textStatus + ': ' + errorThrown);
	});
})